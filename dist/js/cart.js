"use strict";var cartList=JSON.parse(localStorage.getItem("cartList"));function bindHtml(){var t=cartList.every(function(t){return!0===t.isSelect}),c='\n            <div class="top">\n            <input class=\'selectAll\' type="checkbox" '.concat(t?"checked":"",' >全选       \n            \n        </div>\n        <ul class="center">\n            ');cartList.forEach(function(t){c+='\n                <li>\n                <div class="select">\n                    <input data-id='.concat(t.list_id,' class="select1" type="checkbox" ').concat(t.isSelect?"checked":"",'>\n                </div>\n                <div class="info">\n                    <img src="').concat(t.list_url,'" alt="">\n                    <p>').concat(t.list_desc,'</p>\n                </div>\n                <p class="price">').concat(t.list_price,'</p>\n                <div class="number">\n                    <button class="sub" data-id=').concat(t.list_id,'>-</button>\n                    <input type="text" value=\'').concat(t.number,'\'>\n                    <button class="add" data-id=').concat(t.list_id,'>+</button>\n                </div>\n                <p class="xiaoji">').concat(t.xiaoji,'</p>\n                <div class="del" data-id=').concat(t.list_id,">删除</div>\n            </li>\n           \n                ")});var i=cartList.filter(function(t){return!0===t.isSelect}),n=0,a=0;i.forEach(function(t){n+=t.number,a+=t.xiaoji}),c+='\n            </ul>\n            <div class="bottom">\n            <p> 总价： <span>'.concat(a,"</span></p>\n            <p> 选中商品数量<span>").concat(n,"</span></p>\n            <button class='pay' ").concat(i.length?"":"disabled",">支付</button>\n            <button class='clear'>清空购物车</button>\n        </div>\n    "),$(".cart").html(c)}function bindEvent(){$(".cart").on("change",".selectAll",function(){var c=this;cartList.forEach(function(t){t.isSelect=c.checked}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".cart").on("change",".select1",function(){var c=$(this).data("id");cartList.forEach(function(t){t.list_id===c&&(t.isSelect=!t.isSelect)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".cart").on("click",".sub",function(){var c=$(this).data("id");cartList.forEach(function(t){t.list_id===c&&(1<t.number&&t.number--,t.xiaoji=t.list_price*t.number)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".cart").on("click",".add",function(){var c=$(this).data("id");cartList.forEach(function(t){t.list_id===c&&(t.number++,t.xiaoji=t.list_price*t.number)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".cart").on("click",".del",function(){var c=$(this).data("id"),t=cartList.filter(function(t){return t.list_id!==c});bindHtml(t),localStorage.setItem("cartList",JSON.stringify(t))}),$(".cart").on("click",".clear",function(){localStorage.removeItem("cartList")}),bindHtml()}cartList?(bindHtml(),bindEvent()):$("html").text("你的购物车没有东西，快去添加吧！");