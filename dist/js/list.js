"use strict";function getList(){$.ajax({url:"../lib/nav.json",dataType:"json",success:function(e){var t="";e.forEach(function(n){t+="<li>".concat(n.name,"</li>")}),$(".nav_top>ul").html(t).on({mouseenter:function(){return $(".nav_box").stop().slideDown()},mouseleave:function(){return $(".nav_box").stop().slideUp()}}).children("li").on("mouseover",function(){var n=$(this).index(),t=e[n].list;console.log(t);var i="";t.forEach(function(n){i+='\n                    <li>\n                    <div>\n                      <img src="'.concat(n.list_url,'" alt="">\n                    </div>\n                    <p class="title">').concat(n.list_name,'</p>\n                    <span class="price">').concat(n.list_price,"</span>\n                  </li>\n                \n                    ")}),$(".nav_box>ul").html(i)}),$(".nav_box").on({mouseover:function(){$(this).finish().show()},mouseout:function(){$(this).finish().slideUp()}})}})}function getList1(){$.ajax({url:"../lib/nav_left.json",dataType:"json",success:function(e){console.log(e);var t="";e.forEach(function(n){t+="\n        <li>\n          <p>".concat(n.title,"</p>\n          <span>></span>  \n        </li>\n        ")}),$(".nav_left").html(t).on({mouseenter:function(){return $(".nav_right").stop().show()},mouseleave:function(){return $(".nav_right").stop().hide()}}).children("li").on("mouseover",function(){var n=$(this).index(),t=e[n].list,i="";t.forEach(function(n){console.log(n.url),i+='\n                      <li>\n                      \n                          <img src="'.concat(n.url,'" alt="">\n                       \n                        <p class="title">').concat(n.name,"</p >\n                      </li>\n                    ")}),$(".nav_right>li").html(i)}).on({mouseenter:function(){return $(".nav_right").stop().css("display","block")},mouseleave:function(){return $(".nav_right").stop().css("display","none")}}),$(".nav_right").on({mouseover:function(){$(this).finish().show()},mouseout:function(){$(this).finish().css("display","none")}})}})}getList(),getList1();var list2=[];function getList2(){$.ajax({url:"../lib/list.json",dataType:"json",success:function(i){$(".pagi").pagination({pageCount:Math.ceil(i.length/4),current:1,jump:!0,coping:!0,homePage:"首页",endPage:"末页",prevContent:"上页",nextContent:"下页",callback:function(n){var t=n.getCurrent();bindHtml(i.slice(4*(t-1),4*t))}}),bindHtml(i.slice(0,4)),list2=i}})}function bindHtml(n){var t="";n.forEach(function(n){t+="\n    <li data-num='".concat(n.list_id,"'>\n    <p>").concat(n.list_name,"</p>\n    <p>").concat(n.list_desc,'</p>\n    <img src="').concat(n.list_url,'" alt="">\n    <p>').concat(n.list_price,'</p>\n    <button>"加入购物车"</button>\n  </li>\n    ')}),$(".box > ul").html(t)}getList2(),$(".shang").click(function(){list2.sort(function(n,t){return n.list_price-t.list_price}),$(".pagi").pagination({pageCount:Math.ceil(list2.length/4),current:1,jump:!0,coping:!0,homePage:"首页",endPage:"末页",prevContent:"上页",nextContent:"下页",callback:function(n){var t=n.getCurrent();bindHtml(list2.slice(4*(t-1),4*t))}}),bindHtml(list2.slice(0,4))}),$(".xia").click(function(){list2.sort(function(n,t){return t.list_price-n.list_price}),$(".pagi").pagination({pageCount:Math.ceil(list2.length/4),current:1,jump:!0,coping:!0,homePage:"首页",endPage:"末页",prevContent:"上页",nextContent:"下页",callback:function(n){var t=n.getCurrent();bindHtml(list2.slice(4*(t-1),4*t))}}),bindHtml(list2.slice(0,4))}),$(".pagi").pagination({pageCount:Math.ceil(list2.length/4),current:1,jump:!0,coping:!0,homePage:"首页",endPage:"末页",prevContent:"上页",nextContent:"下页",callback:function(n){var t=n.getCurrent();bindHtml(list2.slice(4*(t-1),4*t))}}),bindHtml(list2.slice(0,4)),$(".box>ul").on("click","li",function(){console.log(this);var n=$(this).data("num");console.log(n);for(var t={},i=0;i<list2.length;i++)if(list2[i].list_id===n){t=list2[i];break}localStorage.setItem("info",JSON.stringify(t)),window.location.href="./detail.html"});